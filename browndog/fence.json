{
    "label": "Browndog",
    "key": "bd",
    "description": "API Gateway for Brown Dog Services.",
    "image": {
	"name": "ndslabs/fence",
	"tags" : ["latest"]
    },
    "display": "stack",
    "access": "external",
    "logo": "https://browndog.ncsa.illinois.edu/images/bd3a_3d.png?crc=4243147919",
    "depends": [
        {
            "key": "mongo",
            "required": true
        },
        {
            "key": "rabbitmq",
            "required": true
        },
        {
            "key": "redis",
            "required": true
        },
        {
            "key": "clowderbd",
            "required": true
        },
        {
            "key": "polyglot",
            "required": true
        },
        {
            "key": "extractorocr",
            "required": false
        },
        {
          "key":"convtemplate",
          "required": false
        }
    ],
    "config":  [
        {
            "name": "SMTP_HOST",
            "value": "outbound.ucsd.edu",
            "canOverride": true
        },
        {
            "name": "ELASTICSEARCH_CLUSTERNAME",
            "value": "clowder",
            "canOverride": false
        },
        {
            "name": "RABBITMQ_EXCHANGE",
            "value": "clowder",
            "canOverride": false
        },
        {
            "name": "TOOLMANAGER_URI",
            "value": "http://localhost:8082",
            "label": "ToolServer address",
            "canOverride": true
        },
        {
            "name": "MONGO_URL",
            "value": "mongodb://$(NDSLABS_STACK)-mongo:27017",
            "canOverride": false
        },
        {
            "name": "DTS_URL",
            "value": "http://$(NDSLABS_STACK)-clowderbd:9000",
            "canOverride": false
        },
        {
            "name": "DAP_URL",
            "value": "http://$(NDSLABS_STACK)-polyglot:8184",
            "canOverride": false
        },
        {
            "name": "REDIS_HOST",
            "value": "$(NDSLABS_STACK)-redis",
            "canOverride": false
        },
        {
            "name": "REDIS_PORT",
            "value": "6379",
            "canOverride": false
        }
    ],
    "ports": [
        {
            "port": 8080,
            "protocol": "http",
            "contextPath": "/"
        }
    ],
    "resourceLimits": {
        "cpuMax": 200,
        "cpuDefault": 100,
        "memMax": 1000,
        "memDefault": 250
    },
    "readinessProbe" : {
        "type" : "http",
        "path" : "/ok",
        "port" : 8080,
        "initialDelay": 10,
        "timeout" : 60
    },
    "repositories": [
      {
        "url": "https://opensource.ncsa.illinois.edu/bitbucket/scm/cats/clowder.git",
        "type": "git"
      }
    ],
    "info": "https://nationaldataservice.atlassian.net/wiki/display/NDSC/Clowder",
    "tags" : ["2", "22", "36"]
}
